(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=React;var r=e.n(t);function n(e){var t=document.getElementById(e);if(!t)return console.warn("IslandJS Turbo: Container ".concat(e," not found")),{};var r=t.dataset.initialState;if(!r)return{};try{return JSON.parse(r)}catch(e){return console.warn("IslandJS Turbo: Failed to parse initial state",e),{}}}function o(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=document.getElementById(e);if(!o)return console.warn("IslandJS Turbo: Container ".concat(e," not found for caching")),function(){};try{var a=JSON.stringify(t);o.dataset.initialState=a}catch(e){console.warn("IslandJS Turbo: Failed to immediately serialize state",e)}var i=function(){try{var e=JSON.stringify(t);o.dataset.initialState=e}catch(e){console.warn("IslandJS Turbo: Failed to serialize state for cache",e)}},l=function(){if(r){var t=new CustomEvent("turbo:state-restored",{detail:{containerId:e,state:n(e)}});o.dispatchEvent(t)}},c=function(){try{var e=JSON.stringify(t);o.dataset.initialState=e}catch(e){console.warn("IslandJS Turbo: Failed to serialize state for before-render",e)}};return document.addEventListener("turbo:before-cache",i),document.addEventListener("turbo:before-render",c),r&&document.addEventListener("turbo:load",l),function(){document.removeEventListener("turbo:before-cache",i),document.removeEventListener("turbo:before-render",c),r&&document.removeEventListener("turbo:load",l)}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const l=function(e){var i=e.containerId,l=n(i),c=a((0,t.useState)(l.count||0),2),u=c[0],s=c[1],d=a((0,t.useState)(l.message||"Hello from IslandJS Rails!"),2),f=d[0],m=d[1],p=a((0,t.useState)(l.customMessage||""),2),b=p[0],g=p[1],y={count:u,message:f,customMessage:b};(0,t.useEffect)(function(){return o(i,y,!0)},[i,u,f,b]);return r().createElement("div",{style:{padding:"20px",border:"2px solid #4F46E5",borderRadius:"8px",backgroundColor:"#F8FAFC",textAlign:"center",fontFamily:"system-ui, sans-serif"}},r().createElement("h2",{style:{color:"#4F46E5",margin:"0 0 16px 0"}},"ðŸï¸ React + IslandjsRails (Turbo-Cache Compatible)"),r().createElement("p",{style:{margin:"0 0 16px 0",fontSize:"18px"}},f),r().createElement("div",{style:{margin:"16px 0"}},r().createElement("input",{type:"text",placeholder:"Enter custom message",value:b,onChange:function(e){g(e.target.value)},style:{padding:"8px",marginRight:"8px",border:"1px solid #D1D5DB",borderRadius:"4px",fontSize:"14px"}}),r().createElement("button",{onClick:function(){b.trim()&&(m(b.trim()),g(""))},style:{padding:"8px 16px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",marginRight:"8px"}},"Apply Message")),r().createElement("button",{onClick:function(){return s(u+1)},style:{padding:"8px 16px",backgroundColor:"#4F46E5",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"}},"Clicked ",u," times"),r().createElement("div",{style:{marginTop:"16px",fontSize:"12px",color:"#6B7280",textAlign:"left",backgroundColor:"#F9FAFB",padding:"12px",borderRadius:"4px"}},r().createElement("strong",null,"Turbo-Cache Demo:"),r().createElement("br",null),"â€¢ Navigate away and back - your count and message persist!",r().createElement("br",null),"â€¢ Container ID: ",r().createElement("code",null,i),r().createElement("br",null),"â€¢ State: ",r().createElement("code",null,JSON.stringify(y))))};window.islandjsRails={HelloWorld:l}})();